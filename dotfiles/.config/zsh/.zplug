## BEGIN - Using zplug from homebrew
export ZPLUG_HOME=/usr/local/opt/zplug

if test -e $ZPLUG_HOME; then
  source $ZPLUG_HOME/init.zsh
else
  echo "Brew's Zplug not found, please install with 'brew install zplug'"
  # Stop execution of this source file
  return
fi
## END - Using zplug from homebrew

## Zplug theme
export SPACESHIP_KUBECONTEXT_SHOW=false
export SPACESHIP_VI_MODE_SHOW=false
zplug "denysdovhan/spaceship-prompt", use:spaceship.zsh, from:github, as:theme

## Zplug plugins
zplug "zsh-users/zsh-autosuggestions", at:v0.4.3
mkdir -p ~/.local/share/z
_Z_DATA=$HOME/.local/share/z/history
_Z_CMD=zz
zplug "rupa/z", use:z.sh
# Load syntax highlighter after everyting but BEFORE the search
ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets)
zplug "zsh-users/zsh-syntax-highlighting"
zplug "zsh-users/zsh-history-substring-search"

# Install plugins if there are plugins that have not been installed
if ! zplug check --verbose; then
  printf "Install? [y/N]: "
  if read -q; then
      echo; zplug install
  fi
fi

# Then, source plugins and add commands to $PATH
zplug load
