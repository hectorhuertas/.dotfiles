git_current_branch() {
  echo $(git rev-parse --abbrev-ref HEAD)
}

git_push_origin() {
  git push --set-upstream origin "$(git_current_branch)";
}

git_quick_push() {
  git add .;
  git commit -m "$1";
  git push --set-upstream origin "$(git_current_branch)";
}

git_merge_master() {
  current=$(git_current_branch);
  git checkout master;
  git pull;
  git checkout "$current";
  git merge master;
}

git_rebase_master() {
  current=$(git_current_branch);
  git checkout master;
  git pull;
  git checkout "$current";
  git rebase master;
}

k8s_delete_pods_by_app_selector() {
  if [ -z "$1" ] ; then
      echo 'Usage: provide selector for the app label to delete matching pods'
      exit 1
  fi

  kubectl get po \
  -o jsonpath='{.items[?(@.metadata.labels.app=="'"$1"'")].metadata.name}' \
  | xargs kubectl delete pod
}

reload_config() {
  source $ZDOTDIR/.zshrc;
  echo "Zsh reloaded!";
}

## print hex value of a number
hex() {
    if [[ -n "$1" ]]; then
        printf "%x\n" $1
    else
        print 'Usage: hex <number-to-convert>'
        return 1
    fi
}
